<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<title>SpliceOnArcaneTest xref</title>
<link type="text/css" rel="stylesheet" href="../../../../../../stylesheet.css" />
</head>
<body>
<div id="overview"><a href="../../../../../../../testapidocs/org/mage/test/cards/abilities/keywords/SpliceOnArcaneTest.html">View Javadoc</a></div><pre>
<a class="jxr_linenumber" name="L1" href="#L1">1</a>   <strong class="jxr_keyword">package</strong> org.mage.test.cards.abilities.keywords;
<a class="jxr_linenumber" name="L2" href="#L2">2</a>   
<a class="jxr_linenumber" name="L3" href="#L3">3</a>   <strong class="jxr_keyword">import</strong> mage.abilities.keyword.HasteAbility;
<a class="jxr_linenumber" name="L4" href="#L4">4</a>   <strong class="jxr_keyword">import</strong> mage.constants.PhaseStep;
<a class="jxr_linenumber" name="L5" href="#L5">5</a>   <strong class="jxr_keyword">import</strong> mage.constants.Zone;
<a class="jxr_linenumber" name="L6" href="#L6">6</a>   <strong class="jxr_keyword">import</strong> org.junit.Assert;
<a class="jxr_linenumber" name="L7" href="#L7">7</a>   <strong class="jxr_keyword">import</strong> org.junit.Ignore;
<a class="jxr_linenumber" name="L8" href="#L8">8</a>   <strong class="jxr_keyword">import</strong> org.junit.Test;
<a class="jxr_linenumber" name="L9" href="#L9">9</a>   <strong class="jxr_keyword">import</strong> org.mage.test.serverside.base.CardTestPlayerBase;
<a class="jxr_linenumber" name="L10" href="#L10">10</a>  
<a class="jxr_linenumber" name="L11" href="#L11">11</a>  <em class="jxr_javadoccomment">/**</em>
<a class="jxr_linenumber" name="L12" href="#L12">12</a>  <em class="jxr_javadoccomment"> * @author LevelX2</em>
<a class="jxr_linenumber" name="L13" href="#L13">13</a>  <em class="jxr_javadoccomment"> */</em>
<a class="jxr_linenumber" name="L14" href="#L14">14</a>  <strong class="jxr_keyword">public</strong> <strong class="jxr_keyword">class</strong> <a name="SpliceOnArcaneTest" href="../../../../../../org/mage/test/cards/abilities/keywords/SpliceOnArcaneTest.html#SpliceOnArcaneTest">SpliceOnArcaneTest</a> <strong class="jxr_keyword">extends</strong> <a name="CardTestPlayerBase" href="../../../../../../org/mage/test/serverside/base/CardTestPlayerBase.html#CardTestPlayerBase">CardTestPlayerBase</a> {
<a class="jxr_linenumber" name="L15" href="#L15">15</a>  
<a class="jxr_linenumber" name="L16" href="#L16">16</a>      <em class="jxr_javadoccomment">/**</em>
<a class="jxr_linenumber" name="L17" href="#L17">17</a>  <em class="jxr_javadoccomment">     * Test that it works to cast Through the Breach by slicing it on an arcane</em>
<a class="jxr_linenumber" name="L18" href="#L18">18</a>  <em class="jxr_javadoccomment">     * spell</em>
<a class="jxr_linenumber" name="L19" href="#L19">19</a>  <em class="jxr_javadoccomment">     */</em>
<a class="jxr_linenumber" name="L20" href="#L20">20</a>      @Test
<a class="jxr_linenumber" name="L21" href="#L21">21</a>      <strong class="jxr_keyword">public</strong> <strong class="jxr_keyword">void</strong> testSpliceThroughTheBreach() {
<a class="jxr_linenumber" name="L22" href="#L22">22</a>          addCard(Zone.BATTLEFIELD, playerA, <span class="jxr_string">"Mountain"</span>, 5);
<a class="jxr_linenumber" name="L23" href="#L23">23</a>          <em class="jxr_comment">// Sorcery - Arcane  {R}</em>
<a class="jxr_linenumber" name="L24" href="#L24">24</a>          <em class="jxr_comment">// Lava Spike deals 3 damage to target player.</em>
<a class="jxr_linenumber" name="L25" href="#L25">25</a>          addCard(Zone.HAND, playerA, <span class="jxr_string">"Lava Spike"</span>, 1);
<a class="jxr_linenumber" name="L26" href="#L26">26</a>          <em class="jxr_comment">// You may put a creature card from your hand onto the battlefield. That creature gains haste. Sacrifice that creature at the beginning of the next end step.</em>
<a class="jxr_linenumber" name="L27" href="#L27">27</a>          <em class="jxr_comment">// Splice onto Arcane {2}{R}{R} (As you cast an Arcane spell, you may reveal this card from your hand and pay its splice cost. If you do, add this card's effects to that spell.)</em>
<a class="jxr_linenumber" name="L28" href="#L28">28</a>          addCard(Zone.HAND, playerA, <span class="jxr_string">"Through the Breach"</span>, 1);
<a class="jxr_linenumber" name="L29" href="#L29">29</a>          addCard(Zone.HAND, playerA, <span class="jxr_string">"Silvercoat Lion"</span>, 1);
<a class="jxr_linenumber" name="L30" href="#L30">30</a>  
<a class="jxr_linenumber" name="L31" href="#L31">31</a>          castSpell(1, PhaseStep.PRECOMBAT_MAIN, playerA, <span class="jxr_string">"Lava Spike"</span>, playerB);
<a class="jxr_linenumber" name="L32" href="#L32">32</a>          <em class="jxr_comment">// activate splice: yes -&gt; card with splice ability -&gt; new target for spliced ability</em>
<a class="jxr_linenumber" name="L33" href="#L33">33</a>          setChoice(playerA, <strong class="jxr_keyword">true</strong>);
<a class="jxr_linenumber" name="L34" href="#L34">34</a>          addTarget(playerA, <span class="jxr_string">"Through the Breach"</span>);
<a class="jxr_linenumber" name="L35" href="#L35">35</a>          setChoice(playerA, <span class="jxr_string">"Silvercoat Lion"</span>); <em class="jxr_comment">// target for spliced ability: put from hand to battlefield</em>
<a class="jxr_linenumber" name="L36" href="#L36">36</a>  
<a class="jxr_linenumber" name="L37" href="#L37">37</a>          setStopAt(1, PhaseStep.BEGIN_COMBAT);
<a class="jxr_linenumber" name="L38" href="#L38">38</a>          execute();
<a class="jxr_linenumber" name="L39" href="#L39">39</a>  
<a class="jxr_linenumber" name="L40" href="#L40">40</a>          assertLife(playerA, 20);
<a class="jxr_linenumber" name="L41" href="#L41">41</a>          assertLife(playerB, 17);
<a class="jxr_linenumber" name="L42" href="#L42">42</a>  
<a class="jxr_linenumber" name="L43" href="#L43">43</a>          assertGraveyardCount(playerA, <span class="jxr_string">"Lava Spike"</span>, 1);
<a class="jxr_linenumber" name="L44" href="#L44">44</a>          assertHandCount(playerA, <span class="jxr_string">"Through the Breach"</span>, 1);
<a class="jxr_linenumber" name="L45" href="#L45">45</a>          assertPermanentCount(playerA, <span class="jxr_string">"Silvercoat Lion"</span>, 1);
<a class="jxr_linenumber" name="L46" href="#L46">46</a>          assertAbility(playerA, <span class="jxr_string">"Silvercoat Lion"</span>, HasteAbility.getInstance(), <strong class="jxr_keyword">true</strong>);
<a class="jxr_linenumber" name="L47" href="#L47">47</a>          Assert.assertEquals(<span class="jxr_string">"All available mana has to be used"</span>, <span class="jxr_string">"[]"</span>, playerA.getManaAvailable(currentGame).toString());
<a class="jxr_linenumber" name="L48" href="#L48">48</a>      }
<a class="jxr_linenumber" name="L49" href="#L49">49</a>  
<a class="jxr_linenumber" name="L50" href="#L50">50</a>      @Test
<a class="jxr_linenumber" name="L51" href="#L51">51</a>      <strong class="jxr_keyword">public</strong> <strong class="jxr_keyword">void</strong> testSpliceTorrentOfStone() {
<a class="jxr_linenumber" name="L52" href="#L52">52</a>  
<a class="jxr_linenumber" name="L53" href="#L53">53</a>          addCard(Zone.BATTLEFIELD, playerA, <span class="jxr_string">"Mountain"</span>, 2);
<a class="jxr_linenumber" name="L54" href="#L54">54</a>          <em class="jxr_comment">// Sorcery - Arcane  {R}</em>
<a class="jxr_linenumber" name="L55" href="#L55">55</a>          <em class="jxr_comment">// Lava Spike deals 3 damage to target player.</em>
<a class="jxr_linenumber" name="L56" href="#L56">56</a>          addCard(Zone.HAND, playerA, <span class="jxr_string">"Lava Spike"</span>, 1);
<a class="jxr_linenumber" name="L57" href="#L57">57</a>          <em class="jxr_comment">// Torrent of Stone deals 4 damage to target creature.</em>
<a class="jxr_linenumber" name="L58" href="#L58">58</a>          <em class="jxr_comment">// Splice onto Arcane-Sacrifice two Mountains. (As you cast an Arcane spell, you may reveal this card from your hand and pay its splice cost. If you do, add this card's effects to that spell.)</em>
<a class="jxr_linenumber" name="L59" href="#L59">59</a>          addCard(Zone.HAND, playerA, <span class="jxr_string">"Torrent of Stone"</span>, 1);
<a class="jxr_linenumber" name="L60" href="#L60">60</a>  
<a class="jxr_linenumber" name="L61" href="#L61">61</a>          addCard(Zone.BATTLEFIELD, playerB, <span class="jxr_string">"Silvercoat Lion"</span>, 1);
<a class="jxr_linenumber" name="L62" href="#L62">62</a>  
<a class="jxr_linenumber" name="L63" href="#L63">63</a>          <em class="jxr_comment">// cast arcane Lava Spike</em>
<a class="jxr_linenumber" name="L64" href="#L64">64</a>          castSpell(1, PhaseStep.PRECOMBAT_MAIN, playerA, <span class="jxr_string">"Lava Spike"</span>, playerB);
<a class="jxr_linenumber" name="L65" href="#L65">65</a>          <em class="jxr_comment">// activate splice: yes -&gt; card with splice ability -&gt; new target for spliced ability</em>
<a class="jxr_linenumber" name="L66" href="#L66">66</a>          setChoice(playerA, <strong class="jxr_keyword">true</strong>);
<a class="jxr_linenumber" name="L67" href="#L67">67</a>          addTarget(playerA, <span class="jxr_string">"Torrent of Stone"</span>);
<a class="jxr_linenumber" name="L68" href="#L68">68</a>          <em class="jxr_comment">// Silvercoat Lion is auto-chosen is only possible target</em>
<a class="jxr_linenumber" name="L69" href="#L69">69</a>  
<a class="jxr_linenumber" name="L70" href="#L70">70</a>          setStopAt(1, PhaseStep.BEGIN_COMBAT);
<a class="jxr_linenumber" name="L71" href="#L71">71</a>          execute();
<a class="jxr_linenumber" name="L72" href="#L72">72</a>  
<a class="jxr_linenumber" name="L73" href="#L73">73</a>          assertLife(playerA, 20);
<a class="jxr_linenumber" name="L74" href="#L74">74</a>          assertLife(playerB, 17);
<a class="jxr_linenumber" name="L75" href="#L75">75</a>  
<a class="jxr_linenumber" name="L76" href="#L76">76</a>          assertGraveyardCount(playerA, <span class="jxr_string">"Lava Spike"</span>, 1);
<a class="jxr_linenumber" name="L77" href="#L77">77</a>          assertHandCount(playerA, <span class="jxr_string">"Torrent of Stone"</span>, 1);
<a class="jxr_linenumber" name="L78" href="#L78">78</a>          assertGraveyardCount(playerB, <span class="jxr_string">"Silvercoat Lion"</span>, 1);
<a class="jxr_linenumber" name="L79" href="#L79">79</a>          assertPermanentCount(playerA, <span class="jxr_string">"Mountain"</span>, 0);
<a class="jxr_linenumber" name="L80" href="#L80">80</a>          Assert.assertEquals(<span class="jxr_string">"No more mana available"</span>, <span class="jxr_string">"[]"</span>, playerA.getManaAvailable(currentGame).toString());
<a class="jxr_linenumber" name="L81" href="#L81">81</a>      }
<a class="jxr_linenumber" name="L82" href="#L82">82</a>  
<a class="jxr_linenumber" name="L83" href="#L83">83</a>      <em class="jxr_javadoccomment">/**</em>
<a class="jxr_linenumber" name="L84" href="#L84">84</a>  <em class="jxr_javadoccomment">     * Nourishing Shoal's interaction with Splicing Through the Breach is</em>
<a class="jxr_linenumber" name="L85" href="#L85">85</a>  <em class="jxr_javadoccomment">     * bugged.</em>
<a class="jxr_linenumber" name="L86" href="#L86">86</a>  <em class="jxr_javadoccomment">     * You should still need to pay 2RR as an additional cost, which is</em>
<a class="jxr_linenumber" name="L87" href="#L87">87</a>  <em class="jxr_javadoccomment">     * not affected by the alternate casting method of Shoal, but you are able</em>
<a class="jxr_linenumber" name="L88" href="#L88">88</a>  <em class="jxr_javadoccomment">     * to Splice it for free.</em>
<a class="jxr_linenumber" name="L89" href="#L89">89</a>  <em class="jxr_javadoccomment">     * This is a very relevant bug right now due to the appearance of the deck</em>
<a class="jxr_linenumber" name="L90" href="#L90">90</a>  <em class="jxr_javadoccomment">     * over the weekend, and it makes the deck absurdly powerful.</em>
<a class="jxr_linenumber" name="L91" href="#L91">91</a>  <em class="jxr_javadoccomment">     */</em>
<a class="jxr_linenumber" name="L92" href="#L92">92</a>      @Test
<a class="jxr_linenumber" name="L93" href="#L93">93</a>      <strong class="jxr_keyword">public</strong> <strong class="jxr_keyword">void</strong> testSpliceThroughTheBreach2() {
<a class="jxr_linenumber" name="L94" href="#L94">94</a>          addCard(Zone.BATTLEFIELD, playerA, <span class="jxr_string">"Mountain"</span>, 4);
<a class="jxr_linenumber" name="L95" href="#L95">95</a>          <em class="jxr_comment">// You may exile a green card with converted mana cost X from your hand rather than pay Nourishing Shoal's mana cost.</em>
<a class="jxr_linenumber" name="L96" href="#L96">96</a>          <em class="jxr_comment">// You gain X life.</em>
<a class="jxr_linenumber" name="L97" href="#L97">97</a>          addCard(Zone.HAND, playerA, <span class="jxr_string">"Nourishing Shoal"</span>, 1); <em class="jxr_comment">// {X}{G}{G}</em>
<a class="jxr_linenumber" name="L98" href="#L98">98</a>          addCard(Zone.HAND, playerA, <span class="jxr_string">"Giant Growth"</span>, 1);
<a class="jxr_linenumber" name="L99" href="#L99">99</a>          <em class="jxr_comment">// You may put a creature card from your hand onto the battlefield. That creature gains haste. Sacrifice that creature at the beginning of the next end step.</em>
<a class="jxr_linenumber" name="L100" href="#L100">100</a>         <em class="jxr_comment">// Splice onto Arcane {2}{R}{R} (As you cast an Arcane spell, you may reveal this card from your hand and pay its splice cost. If you do, add this card's effects to that spell.)</em>
<a class="jxr_linenumber" name="L101" href="#L101">101</a>         addCard(Zone.HAND, playerA, <span class="jxr_string">"Through the Breach"</span>, 1);
<a class="jxr_linenumber" name="L102" href="#L102">102</a>         addCard(Zone.HAND, playerA, <span class="jxr_string">"Silvercoat Lion"</span>, 1);
<a class="jxr_linenumber" name="L103" href="#L103">103</a> 
<a class="jxr_linenumber" name="L104" href="#L104">104</a>         castSpell(1, PhaseStep.PRECOMBAT_MAIN, playerA, <span class="jxr_string">"Nourishing Shoal"</span>);
<a class="jxr_linenumber" name="L105" href="#L105">105</a>         <em class="jxr_comment">// activate splice: yes -&gt; card with splice ability -&gt; new target for spliced ability</em>
<a class="jxr_linenumber" name="L106" href="#L106">106</a>         setChoice(playerA, <strong class="jxr_keyword">true</strong>);
<a class="jxr_linenumber" name="L107" href="#L107">107</a>         addTarget(playerA, <span class="jxr_string">"Through the Breach"</span>);
<a class="jxr_linenumber" name="L108" href="#L108">108</a>         setChoice(playerA, <span class="jxr_string">"Silvercoat Lion"</span>); <em class="jxr_comment">// target for spliced ability: put from hand to battlefield</em>
<a class="jxr_linenumber" name="L109" href="#L109">109</a> 
<a class="jxr_linenumber" name="L110" href="#L110">110</a>         setStopAt(1, PhaseStep.BEGIN_COMBAT);
<a class="jxr_linenumber" name="L111" href="#L111">111</a>         execute();
<a class="jxr_linenumber" name="L112" href="#L112">112</a> 
<a class="jxr_linenumber" name="L113" href="#L113">113</a>         assertLife(playerA, 21);
<a class="jxr_linenumber" name="L114" href="#L114">114</a>         assertLife(playerB, 20);
<a class="jxr_linenumber" name="L115" href="#L115">115</a> 
<a class="jxr_linenumber" name="L116" href="#L116">116</a>         assertGraveyardCount(playerA, <span class="jxr_string">"Nourishing Shoal"</span>, 1);
<a class="jxr_linenumber" name="L117" href="#L117">117</a>         assertHandCount(playerA, <span class="jxr_string">"Through the Breach"</span>, 1);
<a class="jxr_linenumber" name="L118" href="#L118">118</a>         assertPermanentCount(playerA, <span class="jxr_string">"Silvercoat Lion"</span>, 1);
<a class="jxr_linenumber" name="L119" href="#L119">119</a>         assertAbility(playerA, <span class="jxr_string">"Silvercoat Lion"</span>, HasteAbility.getInstance(), <strong class="jxr_keyword">true</strong>);
<a class="jxr_linenumber" name="L120" href="#L120">120</a> 
<a class="jxr_linenumber" name="L121" href="#L121">121</a>         Assert.assertEquals(<span class="jxr_string">"All available mana has to be used"</span>, <span class="jxr_string">"[]"</span>, playerA.getManaAvailable(currentGame).toString());
<a class="jxr_linenumber" name="L122" href="#L122">122</a>     }
<a class="jxr_linenumber" name="L123" href="#L123">123</a> 
<a class="jxr_linenumber" name="L124" href="#L124">124</a>     <em class="jxr_javadoccomment">/**</em>
<a class="jxr_linenumber" name="L125" href="#L125">125</a> <em class="jxr_javadoccomment">     * Cards involved: Nourishing Shoal, Goryo's Vengeance, Griselbrand,</em>
<a class="jxr_linenumber" name="L126" href="#L126">126</a> <em class="jxr_javadoccomment">     * Terminate</em>
<a class="jxr_linenumber" name="L127" href="#L127">127</a> <em class="jxr_javadoccomment">     * &lt;p&gt;</em>
<a class="jxr_linenumber" name="L128" href="#L128">128</a> <em class="jxr_javadoccomment">     * I actually noticed this bug on the 1.4.3 client, but I didn't see it in</em>
<a class="jxr_linenumber" name="L129" href="#L129">129</a> <em class="jxr_javadoccomment">     * the change log for 1.4.4, so I assume it is still unknown. Also, it is a</em>
<a class="jxr_linenumber" name="L130" href="#L130">130</a> <em class="jxr_javadoccomment">     * bit of a rules corner case and I haven't seen anyone else report it, so</em>
<a class="jxr_linenumber" name="L131" href="#L131">131</a> <em class="jxr_javadoccomment">     * the players of this deck may actually not realize it's incorrect.</em>
<a class="jxr_linenumber" name="L132" href="#L132">132</a> <em class="jxr_javadoccomment">     * &lt;p&gt;</em>
<a class="jxr_linenumber" name="L133" href="#L133">133</a> <em class="jxr_javadoccomment">     * The scenario was that I cast a Nourishing Shoal with a Goryo's Vengeance</em>
<a class="jxr_linenumber" name="L134" href="#L134">134</a> <em class="jxr_javadoccomment">     * spliced to it targeting Griselbrand in my graveyard and exiling</em>
<a class="jxr_linenumber" name="L135" href="#L135">135</a> <em class="jxr_javadoccomment">     * Worldspine Wurm. My opponent responded with a Snapcaster Mage, so to</em>
<a class="jxr_linenumber" name="L136" href="#L136">136</a> <em class="jxr_javadoccomment">     * deprive them of their ability to reuse their counterspell, I cast the</em>
<a class="jxr_linenumber" name="L137" href="#L137">137</a> <em class="jxr_javadoccomment">     * Goryo's Vengeance on the Griselbrand. This one resolved. They then used</em>
<a class="jxr_linenumber" name="L138" href="#L138">138</a> <em class="jxr_javadoccomment">     * Terminate on the Griselbrand after I had activated it once. When the</em>
<a class="jxr_linenumber" name="L139" href="#L139">139</a> <em class="jxr_javadoccomment">     * Shoal tried to resolve, it should have been countered due to no legal</em>
<a class="jxr_linenumber" name="L140" href="#L140">140</a> <em class="jxr_javadoccomment">     * target. However, it caused me to gain 11 life. It did not resurrect</em>
<a class="jxr_linenumber" name="L141" href="#L141">141</a> <em class="jxr_javadoccomment">     * Griselbrand (correctly), but it should have done nothing at all.</em>
<a class="jxr_linenumber" name="L142" href="#L142">142</a> <em class="jxr_javadoccomment">     * &lt;p&gt;</em>
<a class="jxr_linenumber" name="L143" href="#L143">143</a> <em class="jxr_javadoccomment">     * I include the info about the Terminate because thinking through, it could</em>
<a class="jxr_linenumber" name="L144" href="#L144">144</a> <em class="jxr_javadoccomment">     * be pertinent. I would guess what is going on here is one of two things.</em>
<a class="jxr_linenumber" name="L145" href="#L145">145</a> <em class="jxr_javadoccomment">     * Either the client doesn't recognize the Shoal with a spliced Vengeance as</em>
<a class="jxr_linenumber" name="L146" href="#L146">146</a> <em class="jxr_javadoccomment">     * a spell with a single target (because Shoal normally doesn't have a</em>
<a class="jxr_linenumber" name="L147" href="#L147">147</a> <em class="jxr_javadoccomment">     * target) or because the Griselbrand ended up back in the graveyard before</em>
<a class="jxr_linenumber" name="L148" href="#L148">148</a> <em class="jxr_javadoccomment">     * the Shoal tried to resolve, the client thought its target was still</em>
<a class="jxr_linenumber" name="L149" href="#L149">149</a> <em class="jxr_javadoccomment">     * valid. I lean toward the former since the Shoal/Vengeance properly failed</em>
<a class="jxr_linenumber" name="L150" href="#L150">150</a> <em class="jxr_javadoccomment">     * to resurrect the now dead again Griselbrand, so I don't think it was</em>
<a class="jxr_linenumber" name="L151" href="#L151">151</a> <em class="jxr_javadoccomment">     * reading that as the target, but I'm not certain. I will try to reproduce</em>
<a class="jxr_linenumber" name="L152" href="#L152">152</a> <em class="jxr_javadoccomment">     * the error against a bot and update this report.</em>
<a class="jxr_linenumber" name="L153" href="#L153">153</a> <em class="jxr_javadoccomment">     */</em>
<a class="jxr_linenumber" name="L154" href="#L154">154</a>     @Test
<a class="jxr_linenumber" name="L155" href="#L155">155</a>     @Ignore
<a class="jxr_linenumber" name="L156" href="#L156">156</a>     <strong class="jxr_keyword">public</strong> <strong class="jxr_keyword">void</strong> testCounteredBecauseOfNoLegalTarget() {
<a class="jxr_linenumber" name="L157" href="#L157">157</a>         <em class="jxr_comment">// TODO: rewrite test, it's wrong and misleading-- user report about Griselbrand was destroyed by Terminate after splice announce, but tests don't use it at all (Griselbrand legal target all the time)</em>
<a class="jxr_linenumber" name="L158" href="#L158">158</a> 
<a class="jxr_linenumber" name="L159" href="#L159">159</a>         addCard(Zone.BATTLEFIELD, playerA, <span class="jxr_string">"Forest"</span>, 2);
<a class="jxr_linenumber" name="L160" href="#L160">160</a>         addCard(Zone.BATTLEFIELD, playerA, <span class="jxr_string">"Swamp"</span>, 8);
<a class="jxr_linenumber" name="L161" href="#L161">161</a>         <em class="jxr_comment">// You may exile a green card with converted mana cost X from your hand rather than pay Nourishing Shoal's mana cost.</em>
<a class="jxr_linenumber" name="L162" href="#L162">162</a>         <em class="jxr_comment">// You gain X life.</em>
<a class="jxr_linenumber" name="L163" href="#L163">163</a>         addCard(Zone.HAND, playerA, <span class="jxr_string">"Nourishing Shoal"</span>, 1); <em class="jxr_comment">// "{X}{G}{G}"</em>
<a class="jxr_linenumber" name="L164" href="#L164">164</a>         <em class="jxr_comment">// Return target legendary creature card from your graveyard to the battlefield. That creature gains haste. Exile it at the beginning of the next end step.</em>
<a class="jxr_linenumber" name="L165" href="#L165">165</a>         <em class="jxr_comment">// Splice onto Arcane {2}{B}</em>
<a class="jxr_linenumber" name="L166" href="#L166">166</a>         addCard(Zone.HAND, playerA, <span class="jxr_string">"Goryo's Vengeance"</span>, 1); <em class="jxr_comment">// {1}{B}</em>
<a class="jxr_linenumber" name="L167" href="#L167">167</a>         addCard(Zone.GRAVEYARD, playerA, <span class="jxr_string">"Griselbrand"</span>, 1);
<a class="jxr_linenumber" name="L168" href="#L168">168</a> 
<a class="jxr_linenumber" name="L169" href="#L169">169</a>         castSpell(1, PhaseStep.PRECOMBAT_MAIN, playerA, <span class="jxr_string">"Nourishing Shoal"</span>);
<a class="jxr_linenumber" name="L170" href="#L170">170</a>         setChoice(playerA, <span class="jxr_string">"X=3"</span>);
<a class="jxr_linenumber" name="L171" href="#L171">171</a>         setChoice(playerA, <strong class="jxr_keyword">true</strong>); <em class="jxr_comment">// splice</em>
<a class="jxr_linenumber" name="L172" href="#L172">172</a>         addTarget(playerA, <span class="jxr_string">"Griselbrand"</span>);
<a class="jxr_linenumber" name="L173" href="#L173">173</a> 
<a class="jxr_linenumber" name="L174" href="#L174">174</a>         castSpell(1, PhaseStep.PRECOMBAT_MAIN, playerA, <span class="jxr_string">"Goryo's Vengeance"</span>, <span class="jxr_string">"Griselbrand"</span>, <span class="jxr_string">"Nourishing Shoal"</span>);
<a class="jxr_linenumber" name="L175" href="#L175">175</a> 
<a class="jxr_linenumber" name="L176" href="#L176">176</a>         setStopAt(1, PhaseStep.BEGIN_COMBAT);
<a class="jxr_linenumber" name="L177" href="#L177">177</a>         execute();
<a class="jxr_linenumber" name="L178" href="#L178">178</a> 
<a class="jxr_linenumber" name="L179" href="#L179">179</a>         assertGraveyardCount(playerA, <span class="jxr_string">"Nourishing Shoal"</span>, 1);
<a class="jxr_linenumber" name="L180" href="#L180">180</a>         assertGraveyardCount(playerA, <span class="jxr_string">"Goryo's Vengeance"</span>, 1);
<a class="jxr_linenumber" name="L181" href="#L181">181</a>         assertPermanentCount(playerA, <span class="jxr_string">"Griselbrand"</span>, 1);
<a class="jxr_linenumber" name="L182" href="#L182">182</a> 
<a class="jxr_linenumber" name="L183" href="#L183">183</a>         assertLife(playerA, 20); <em class="jxr_comment">// no life gain because Nourishing Shoal has to be countered having no legal targets (from Goryo's V.)</em>
<a class="jxr_linenumber" name="L184" href="#L184">184</a>         assertLife(playerB, 20);
<a class="jxr_linenumber" name="L185" href="#L185">185</a> 
<a class="jxr_linenumber" name="L186" href="#L186">186</a>     }
<a class="jxr_linenumber" name="L187" href="#L187">187</a> }
</pre>
<hr/>
<div id="footer">Copyright &#169; 2023. All rights reserved.</div>
</body>
</html>
